<workunit>
    
   <invokers>
         <invoker folderid="/txn/treasury" caption="Cash Receipt (Online)" action="init" mode="ONLINE" />
         <invoker folderid="/txn/treasury" caption="Cash Receipt (Offline)" action="init" mode="OFFLINE"/>
         <invoker folderid="/txn/treasury" caption="Cash Receipt (Capture)" action="init" mode="CAPTURE"/>
         
         <invoker type="formActions" caption="Next" action="launch"/>
   </invokers>
   
   <code>
       <![CDATA[
        import com.rameses.osiris2.common.*;
        import com.rameses.rcp.common.*;
        import com.rameses.rcp.annotations.*;
        import com.rameses.osiris2.client.*;
        
        class CashReceiptController  {
        
            @Service("CollectionType")
            def collectionTypeSvc;
        
            @Invoker
            def invoker;
            
            String title = "Cash Receipt";

            def formType;
            def formTypes;
            def collectiontype;
            def mode;
            
            void init() {
                formTypes = collectionTypeSvc.getAvailableFormTypes();    
                mode = invoker.properties.mode;
            }

            def getCollectionTypes()  {
                return collectionTypeSvc.getListByFormType( [formType:formType]  );
            }
            
            
        }      
       ]]>
   </code>
   
   <pages>
       <page template="com.rameses.enterprise.treasury.cashreceipt.CashReceiptInitialPage" />
   </pages>
   
</workunit>