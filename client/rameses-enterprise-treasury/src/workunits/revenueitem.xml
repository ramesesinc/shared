<workunit>
    <invokers>
        <invoker type="revenueitem:openitem" caption="Revenue Item" action="open"/>
        <invoker type="revenueitem:additem" caption="Revenue Item" action="create"/>
        
        <invoker type="formActions" caption="Account Mapping" 
            action="showSegments" visibleWhen="#{mode=='read'}"/>
   </invokers>
   <code>
    <![CDATA[
    import com.rameses.osiris2.common.*;
    import com.rameses.rcp.common.*;
    import com.rameses.rcp.annotations.*;
    import com.rameses.osiris2.client.*;
    import com.rameses.common.*;

    public class ItemAccountController extends CrudFileType {
    
        String serviceName  = "RevenueItemService";
        String entityName = "revenueitem";
        String title = "Revenue Item";
        String prefixId = "REVITEM";
        
        Map createEntity() {
            return [state:node.item.objid];
        }
        
        def showSegments() {
            return InvokerUtil.lookupOpener( "accountsegment:open", 
                [entity:entity, entityName: entityName] 
            );
        }
        
    }    
    ]]>
   </code>
   
   <pages>
       <page template="com.rameses.enterprise.treasury.master.RevenueItemPage"/>
   </pages>
   
</workunit>