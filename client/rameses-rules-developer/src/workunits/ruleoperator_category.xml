<workunit>
    <invokers>
        <invoker type="ruleoperator:formActions" caption="New Operator" action="create"/>
    </invokers>
   
    <code>
    <![CDATA[
        import com.rameses.rcp.annotations.*;
        import com.rameses.rcp.common.*;
        import com.rameses.osiris2.client.*;
        import com.rameses.osiris2.common.*;

        public class RuleOperatorController extends CRUDController 
        { 
            //feed by the caller
            def inboxHandler, node; 
            
            String title = 'Operator'; 
            String prefixId = 'ROPT';
            String createFocusComponent = 'entity.name'; 
            String editFocusComponent = 'entity.description'; 
            boolean allowApprove = false; 
        
            @Service('RuleOperatorService') 
            def service;             
            
            def symbols;            
            def selectedSymbol;
            def symbolListHandler = [
                fetchList: { 
                    if (symbols == null) {
                        symbols = service.getSymbols([operator: entity.name]);
                    } 
                    return symbols; 
                } 
            ] as BasicListModel; 
            
            void afterSave(data) {
                inboxHandler?.refresh();
            } 
        } 
   ]]>
   </code>
   <pages>
       <page template="com.rameses.rules.dev.RuleOperatorPage"/>
   </pages>
</workunit>